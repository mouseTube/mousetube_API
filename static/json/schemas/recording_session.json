{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "RecordingSession",
	"description": "recording session description",
	"type": "object",
	"properties": {
		"name": {
			"description": "name of the recording session",
			"type": "string"
		},
		"description": {
			"description": "description of the recording session",
			"type": "string"
		},
		"protocol": {
			"$ref": "protocol.json"
		},
		"date": {
			"description": "Date when the recording was made (YYY-MM-DD hh:mm:ss).",
			"type": "string",
			"format": "date-time"
		},
		"duration": {
					"description": "duration of the recording in seconds",
					"type": "integer"
		},
		"laboratory": {
            "description": "Name or identifier of the laboratory where the recording was performed.",
            "type": "string"
        },
		"animal_profiles": {
			"description": "List of animal profiles involved in the session",
			"type": "array",
			"items": {
				"$ref": "animal_profile.json"
			}
		},
		"equipment": {
			"description": "equipment used for the recording",
			"type": "object",
			"properties": {
				"soundcards": {
					"description": "List of soundcards used for acquisition",
					"type": "array",
					"items": {
						"$ref": "hardware.json"
					}
				},
				"microphones": {
					"description": "List of microphones used for acquisition",
					"type": "array",
					"items": {
						"$ref": "hardware.json"
					}
				},
				"amplifiers": {
					"description": "List of amplifiers used for acquisition",
					"type": "array",
					"items": {
						"$ref": "hardware.json"
					}
				},
				"speakers": {
					"description": "List of speakers used for acquisition",
					"type": "array",
					"items": {
						"$ref": "hardware.json"
					}
				},
				"acquisition_software": {
					"description": "Software and their versions used to record audio",
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"software": {
								"$ref": "software.json"
							},
							"version": {
								"description": "Version of the software used",
								"type": "string",
								"pattern": "^(\\d+\\.)?(\\d+\\.)?(\\*|\\d+)$"
							},
							"release_date": {
								"description": "Release date of the software version",
								"type": "string",
								"format": "date"
							}
						},
						"required": ["software"],
						"additionalProperties": false
					}
				},
				"channels": {
					"description": "Number of microphones used for recording",
					"type": "string",
					"enum": [
						"mono",
						"stereo",
						"more than 2"
					]
				},
				"sound_isolation": {
					"description": "Presence of a sound attenuating chamber",
					"type": "string",
					"enum": [
						"soundproof room",
						"soundproof cage",
						"no specific sound isolation"
					]
				}
			},
			"required": []
		},
        "context": {
			"description": "experimental context used for the recording session",
			"type": "object",
			"properties": {
				"temperature": {
					"description": "Temperature during the recording",
  					"type": "object",
					"properties": {
						"value": {
							"description": "value of the temperature",
							"type": "integer"
						},
						"unit": {
							"description": "unit of the temperature",
							"type": "string",
							"enum": ["°C", "°F"]
						}
					},
					"required": ["value", "unit"]
				},
				"brightness": {
					"description": "brightness of the recording environment in Lux",
					"type": "integer"
				}
			}
		}
    }
}